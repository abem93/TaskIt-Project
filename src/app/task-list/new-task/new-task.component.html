<div mat-dialog-content id="popup">
  <span class="close" mat-button mat-dialog-close>&times;</span>
  <h3>{{ isEditMode ? 'Edit Task': 'Add a New Task' }}</h3>
  <form (ngSubmit)="onSubmit(taskForm)" #taskForm="ngForm">
    <div class="left-side">
      <input
        type="text"
        name="title"
        id="title"
        placeholder="Title"
        [ngModel]="editedTask.title"
        name="title"
        #titleInput="ngModel"
        required>
      <span class="error" *ngIf="titleInput.touched && !titleInput.valid">Please enter a task name!</span>


      <textarea name="description" id="description" rows="8" placeholder="Description" [ngModel]="editedTask.description"></textarea>
    </div>
    <div class="right-side">

      <input type="text" name="date" placeholder="Date" onfocus="this.type='date'" onblur="this.type='text' | Date" [ngModel]="editedTask.date" #dateInput="ngModel">

      <!-- <p class="date">
        <input  class="dateInput" type="text" name="date" placeholder="Date" onblur="this.type='text' | Date" [ngModel]="editedTask.date" #dateInput="ngModel">
        <input class="dateInput" id="datePicker" type="date" #datePicker=>
      </p> -->

      <!-- <mat-form-field class="example-form-field">
        <mat-label>Choose a date</mat-label>
        <input matInput [matDatepicker]="datepicker" [ngModel]="editedTask.date" #dateInput="ngModel">
        <mat-datepicker-toggle matIconSuffix [for]="datepicker"></mat-datepicker-toggle>
        <mat-datepicker #datepicker>
          <mat-datepicker-actions>
            <button mat-button matDatepickerCancel>Cancel</button>
            <button mat-raised-button color="primary" matDatepickerApply>Apply</button>
          </mat-datepicker-actions>
        </mat-datepicker>
      </mat-form-field> -->
      <span class="error" *ngIf="dateInput.touched && !dateInput.valid">Please select a date!</span>

      <select name="priority" id="priority" [ngModel]="editedTask.priority" required #requiredInput="ngModel">
        <option value="" disabled hidden>Priority</option>
        <option value="Low">Low</option>
        <option value="Medium">Medium</option>
        <option value="High">High</option>
      </select>

      <span class="error" *ngIf="requiredInput.touched && !requiredInput.valid">Please select task priority!</span>


      <select name="status" id="status" [ngModel]="editedTask.status" #statusInput="ngModel" required>
        <option value="" disabled hidden>Status</option>
        <option value="To Do">To Do</option>
        <option value="In Progress">In Progress</option>
        <option value="Done">Done</option>
      </select>

      <span class="error" *ngIf="statusInput.touched && !statusInput.valid">Please select task status!</span>


      <div class="buttons">
        <button type="button" style="cursor: pointer;" mat-button mat-dialog-close>Cancel</button>
        <button type="submit" id="submitBtn" mat-button [mat-dialog-close] [disabled]="!taskForm.valid">{{ isEditMode ? 'Update': 'Create' }}</button>
      </div>
    </div>
  </form>
</div>


